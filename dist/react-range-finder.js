!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("interact.js"),require("opentip"),require("react-dom"),require("tinycolor2")):"function"==typeof define&&define.amd?define(["react","interact.js","opentip","react-dom","tinycolor2"],e):"object"==typeof exports?exports.ReactRangeFinder=e(require("react"),require("interact.js"),require("opentip"),require("react-dom"),require("tinycolor2")):t.ReactRangeFinder=e(t.React,t.interact,t.Opentip,t.ReactDOM,t.tinyColor)}(this,function(t,e,r,i,o){return function(t){function e(i){if(r[i])return r[i].exports;var o=r[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";var i=r(1),o=r(11),s=r(10),a=r(9),n=r(7),p=r(6);r(15);var l=i.createClass({displayName:"RangeFinder",findValue:function(t){for(var e in t){var r=t[e];if(r||0===r)return r}return 0},getInitialState:function(){var t=this.props.selectedRange||{},e=this.getValueRange(this.props),r=this.findValue([this.props.min,e.min,t.start,0]),i=this.findValue([this.props.max,e.max,t.end,100]),o=t.start||r,s=t.end||i;return o=Math.max(o,r),s=Math.min(s,i),o=Math.min(o,s),{min:r,max:i,start:o,end:s}},mixins:[o,s,a],consts:{marginTop:0,marginLeft:0,marginRight:40,marginBottom:40,coverageBarMargin:10,labelCharacterLimit:20,tickSize:10,sliderRadius:5,ghostSize:30,labelSideMargin:1,textMargin:20,textSize:15,gradientId:"mainGradient",scrollWidth:10,borderRadius:5,coverageGap:4},getDefaultProps:function(){return{width:860,height:800,headerBarHeight:50,labelColumnWidth:160,coverageBarHeight:20,maxCoverageHeight:750,stepSize:1,selectedRange:null,data:[],title:"Value Range",coverageLabel:p,coverageLabelProps:{},densityLowColor:{r:0,g:0,b:0},densityMidColor:null,densityHighColor:{r:255,g:255,b:255},onDragRangeStart:function(){},onReleaseRangeStart:function(){},onDrag:function(){},onDragRangeEnd:function(){},onReleaseRangeEnd:function(){},onRelease:function(){},onUpdateData:function(){}}},propTypes:{width:i.PropTypes.number,height:i.PropTypes.number,headerBarHeight:i.PropTypes.number,labelColumnWidth:i.PropTypes.number,maxCoverageHeight:i.PropTypes.number,coverageBarHeight:i.PropTypes.number,min:i.PropTypes.number,max:i.PropTypes.number,selectedRange:i.PropTypes.shape({start:i.PropTypes.number,end:i.PropTypes.number}),stepSize:i.PropTypes.number,title:i.PropTypes.string,consts:i.PropTypes.object,coverageLabelProps:i.PropTypes.object,data:i.PropTypes.arrayOf(i.PropTypes.object).isRequired,rowLabelProperties:i.PropTypes.oneOfType([i.PropTypes.arrayOf(i.PropTypes.string),i.PropTypes.string]).isRequired,valueProperty:i.PropTypes.string.isRequired,metadataProperty:i.PropTypes.string,colors:i.PropTypes.array,onStartDragMove:i.PropTypes.func,onStartDragEnd:i.PropTypes.func,onEndDragMove:i.PropTypes.func,onEndDragEnd:i.PropTypes.func,onUpdateData:i.PropTypes.func},componentWillReceiveProps:function(t){this.updateSelectedRange(t.selectedRange,this.props.selectedRange)},updateSelectedRange:function(t,e){return null!==t?null===e?void this.setState(t):void(t.start===e.start&&t.end===e.end||(t.start=Math.max(t.start,this.state.min),t.end=Math.min(t.end,this.state.max),this.setState(t))):void 0},componentWillMount:function(){if(null===this.props.data||0===this.props.data.length)throw new Error("You must supply some data");for(var t in this.props.consts)this.consts[t]=this.props.consts[t];this.barX=this.props.labelColumnWidth,this.barY=this.consts.marginTop},calculateCoverage:function(t,e){if(!this.needsCoverage)return 0;for(var r=this.dataDensity,i=0,o=t;e>=o;o++)r[o]&&(i+=r[o]);return i/(e-t+1)},setScrollUpdater:function(t){this.scrollUpdaterFunc=t},render:function(){var t=this.snapGrid,e=this.makeTicks(t),r=this.makeSliders(t),o=this.makeCoverage(),s=this.makeCoverageGrouping(),a=this.makeGapFillers(),p=this.makeUnselectedOverlay(),l=this.props.labelColumnWidth/2,h=this.barY+(this.props.headerBarHeight-this.consts.tickSize)/2+this.consts.textSize/2,c=null,u=null;if(o.length>0){var d=this.barY+this.props.headerBarHeight+this.consts.coverageGap;c=i.createElement(n,{y:d,width:this.componentWidth,height:this.fullCoverageHeight,maxDisplayedHeight:this.coverageHeight,scrollWidth:this.consts.scrollWidth,setScrollUpdater:this.setScrollUpdater,className:"rf-coverage-section"},i.createElement("rect",{x:0,y:0,width:this.props.width,height:this.fullCoverageHeight,className:"rf-coverage-background",fill:"#F4F4F4"}),o,s);var f=this.calculateCoverage(this.state.start,this.state.end);u=i.createElement("text",{x:l,y:this.barY+this.props.headerBarHeight/2+this.consts.textSize,fontSize:12,textAnchor:"middle",className:"rf-label rf-label-bold rf-density-label"},Math.floor(100*f)+"% coverage")}var g=this.componentWidth,m=this.props.headerBarHeight+this.consts.borderRadius,v=100-100*(this.consts.borderRadius/m);return v+="%",i.createElement("svg",{id:this.props.id,width:this.fullComponentWidth,height:this.fullComponentHeight,className:"range-finder"},i.createElement("defs",null,i.createElement("linearGradient",{id:this.consts.gradientId,x1:"0%",x2:"0%",y1:"0%",y2:"100%"},i.createElement("stop",{offset:"0%",stopColor:"#CFCFCF",stopOpacity:"100%"}),i.createElement("stop",{offset:v,stopColor:"#CFCFCF",stopOpacity:"100%"}),i.createElement("stop",{offset:v,stopColor:"#CFCFCF",stopOpacity:"0%"}),i.createElement("stop",{offset:"100%",stopColor:"#CFCFCF",stopOpacity:"0%"}))),i.createElement("rect",{x:0,y:this.barY,width:g,height:m,rx:this.consts.borderRadius,ry:this.consts.borderRadius,stroke:"url(#"+this.consts.gradientId+")",fill:"url(#"+this.consts.gradientId+")",className:"rf-range-bar"}),i.createElement("text",{x:l,y:this.barY+this.props.headerBarHeight/2,textAnchor:"middle",className:"rf-label rf-label-bold rf-title-label"},this.props.title),i.createElement("text",{x:this.barX,y:h,fontSize:this.consts.textSize,textAnchor:"start",className:"rf-label rf-label-bold rf-value-label"},this.state.min),i.createElement("text",{x:this.componentWidth-this.consts.labelSideMargin,y:h,fontSize:this.consts.textSize,textAnchor:"end",className:"rf-label rf-label-bold rf-value-label"},this.state.max),u,i.createElement("g",{className:"rf-ticks"},e),c,a,p,r)}});t.exports=l},function(e,r){e.exports=t},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},o=0;o<this.length;o++){var s=this[o][0];"number"==typeof s&&(i[s]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&i[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(t,e,r){function i(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=d[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(l(i.parts[s],e))}else{for(var a=[],s=0;s<i.parts.length;s++)a.push(l(i.parts[s],e));d[i.id]={id:i.id,refs:1,parts:a}}}}function o(t){for(var e=[],r={},i=0;i<t.length;i++){var o=t[i],s=o[0],a=o[1],n=o[2],p=o[3],l={css:a,media:n,sourceMap:p};r[s]?r[s].parts.push(l):e.push(r[s]={id:s,parts:[l]})}return e}function s(t,e){var r=m(),i=b[b.length-1];if("top"===t.insertAt)i?i.nextSibling?r.insertBefore(e,i.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function n(t){var e=document.createElement("style");return e.type="text/css",s(t,e),e}function p(t){var e=document.createElement("link");return e.rel="stylesheet",s(t,e),e}function l(t,e){var r,i,o;if(e.singleton){var s=y++;r=v||(v=n(e)),i=h.bind(null,r,s,!1),o=h.bind(null,r,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=p(e),i=u.bind(null,r),o=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=n(e),i=c.bind(null,r),o=function(){a(r)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}function h(t,e,r,i){var o=r?"":i.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var s=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(s,a[e]):t.appendChild(s)}}function c(t,e){var r=e.css,i=e.media;if(i&&t.setAttribute("media",i),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function u(t,e){var r=e.css,i=e.sourceMap;i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var d={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,y=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var r=o(t);return i(r,e),function(t){for(var s=[],a=0;a<r.length;a++){var n=r[a],p=d[n.id];p.refs--,s.push(p)}if(t){var l=o(t);i(l,e)}for(var a=0;a<s.length;a++){var p=s[a];if(0===p.refs){for(var h=0;h<p.parts.length;h++)p.parts[h]();delete d[p.id]}}}};var x=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,r){t.exports=e},function(t,e,r){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},o=r(1),s=r(16);r(14),s.styles.close={"extends":"standard",offset:[-3,-3],borderRadius:2,borderColor:"#333333",background:"#333333",className:"rf-tooltip"},s.defaultStyle="close";var a=o.createClass({displayName:"CoverageBar",getInitialState:function(){return{}},propTypes:{charLimit:o.PropTypes.number,color:o.PropTypes.string,coverage:o.PropTypes.arrayOf(o.PropTypes.shape({start:o.PropTypes.number,end:o.PropTypes.number})).isRequired,coverageLabelProps:o.PropTypes.object,dataProperty:o.PropTypes.string,height:o.PropTypes.number,label:o.PropTypes.string,labelWidth:o.PropTypes.number,max:o.PropTypes.number.isRequired,min:o.PropTypes.number.isRequired,openTipOptions:o.PropTypes.object,textMargin:o.PropTypes.number,tooltip:o.PropTypes.string,width:o.PropTypes.number.isRequired,x:o.PropTypes.number.isRequired,y:o.PropTypes.number.isRequired},getDefaultProps:function(){return{height:5,textMargin:20,color:"black",openTipOptions:{delay:0,hideDelay:0,showEffectDuration:0,hideEffectDuration:0,tipJoint:"top left",stem:!1,offset:[3,10]}}},makeCoverageBar:function(t,e,r){var i=t+" to "+e,s=this.props.min,a=this.props.max+this.props.stepSize,n=this.props.width;e+=this.props.stepSize;var p=a-s,l=e-t,h=t-s,c=n*l/p,u=this.props.x+n*h/p;c=Math.max(c,1);var d=this.props.y+(this.props.height-this.props.barHeight)/2;return o.createElement("rect",{key:"coverageBar"+r,x:u,y:d,width:c,height:this.props.barHeight,fill:this.props.color,ref:this.createTooltip.bind(this,i),className:"rf-coverage-bar"})},createTooltip:function(t,e){null!==e&&(e.tooltip||(e.tooltip=new s(e,t,this.props.openTipOptions)))},render:function(){var t=0,e=this.props.coverage.map(function(e,r){return t+=e.end-e.start+1,this.makeCoverageBar(e.start,e.end,r)},this);t/=this.props.max-this.props.min+1;var r=this.props.x,s=this.props.x+this.props.width,a=this.props.y+this.props.height/2,n=5,p=this.props.coverageLabel;return o.createElement("g",{className:"rf-coverage"},o.createElement("line",{x1:r,y1:a,x2:s,y2:a,strokeWidth:"1",stroke:this.props.color,strokeDasharray:"5, 5",className:"rf-coverage-line"}),e,o.createElement(p,i({coveragePercentage:Math.floor(100*t),x:this.props.x,y:this.props.y,width:this.props.labelWidth,height:this.props.height,labelText:this.props.label,dataProperty:this.props.dataProperty,labelX:this.props.textMargin,labelY:a+n,charLimit:this.props.charLimit,className:"rf-label rf-coverage-label"},this.props.coverageLabelProps)))}});t.exports=a},function(t,e,r){"use strict";var i=r(1),o=i.createClass({displayName:"DefaultCoverageLabel",propTypes:{x:i.PropTypes.number.isRequired,y:i.PropTypes.number.isRequired,width:i.PropTypes.number.isRequired,height:i.PropTypes.number.isRequired,labelText:i.PropTypes.string.isRequired,dataProperty:i.PropTypes.string.isRequired,tooltip:i.PropTypes.string,labelX:i.PropTypes.number.isRequired,labelY:i.PropTypes.number.isRequired,charLimit:i.PropTypes.number.isRequired},truncateText:function(t,e){return!t||t.length<=e+3?t:t.substring(0,e)+"..."},render:function(){var t=this.truncateText(this.props.labelText,this.props.charLimit);return i.createElement("text",{className:this.props.className,x:this.props.labelX,y:this.props.labelY,"data-tip":this.props.tooltip},t)}});t.exports=o},function(t,e,r){"use strict";var i=r(1),o=r(4),s=i.createClass({displayName:"ScrollableSVG",getInitialState:function(){return{offsetY:0}},getDefaultProps:function(){return{setScrollUpdater:function(){},x:0,y:0}},consts:{scrollBarPadding:2,gradientId:"scrollBarGradient"},propTypes:{height:i.PropTypes.number.isRequired,maxDisplayedHeight:i.PropTypes.number.isRequired,scrollWidth:i.PropTypes.number.isRequired,setScrollUpdater:i.PropTypes.func,width:i.PropTypes.number.isRequired,x:i.PropTypes.number,y:i.PropTypes.number},componentWillMount:function(){this.props.setScrollUpdater(this.scrollElement)},componentDidMount:function(){this.setInteraction()},componentWillReceiveProps:function(t){var e=this.props.children,r=t.children;i.Children.count(e)!==i.Children.count(r)&&this.setState({offsetY:0})},setInteraction:function(){if(!(this.props.height<=this.props.maxDisplayedHeight)){var t=this;o(this.refs.scrollBar).draggable({restrict:{restriction:t.refs.scrollArea}}).on("dragmove",function(e){var r=t.props.maxDisplayedHeight-2*t.consts.scrollBarPadding,i=t.props.height/r;t.scrollElement(i*e.dy)})}},makeViewBox:function(){var t=this.props.maxDisplayedHeight<this.props.height?this.props.maxDisplayedHeight:this.props.height;return"0 "+this.state.offsetY+" "+this.props.width+" "+t},makeTriangle:function(t,e,r,o,s){var a=e+o*("up"===s?.25:.75),n=e+o*("up"===s?.75:.25),p=t+.25*r,l=t+.5*r,h=t+.75*r,c=p+","+n+" "+l+","+a+" "+h+","+n+" ";return i.createElement("polyline",{fill:"black",stroke:"black",strokeWidth:"1",opacity:"0.8",points:c,className:"rf-scroll-arrow"})},onTouchStart:function(t){var e=t.targetTouches[0];this.touchY=e.pageY},onTouchMove:function(t){var e=t.targetTouches[0];this.scrollElement(this.touchY-e.pageY),this.touchY=e.pageY,t.preventDefault()},onWheel:function(t){this.scrollElement(t.deltaY),t.preventDefault()},scrollElement:function(t){var e=this.state.offsetY+t;e=Math.min(e,this.props.height-this.props.maxDisplayedHeight),e=Math.max(e,0),this.setState({offsetY:e})},render:function(){if(this.props.maxDisplayedHeight>=this.props.height)return i.createElement("svg",{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height,className:this.props.className},this.props.children);var t=this.props.width,e=this.props.maxDisplayedHeight,r=this.props.width-this.props.scrollWidth,o=this.props.scrollWidth,s=r+this.consts.scrollBarPadding,a=o-2*this.consts.scrollBarPadding,n=this.props.y,p=this.props.maxDisplayedHeight,l=(p-2*this.consts.scrollBarPadding)*this.props.maxDisplayedHeight/this.props.height,h=p-l-2*this.consts.scrollBarPadding,c=this.props.height-this.props.maxDisplayedHeight,u=n+this.consts.scrollBarPadding+this.state.offsetY/c*h;return i.createElement("g",{className:this.props.className},i.createElement("svg",{x:this.props.x,y:this.props.y,width:t,height:e,viewBox:this.makeViewBox(),onWheel:this.onWheel,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove},i.createElement("rect",{x:0,y:0,width:t,height:this.props.height,opacity:"0"}),this.props.children),i.createElement("defs",null,i.createElement("linearGradient",{id:this.consts.gradientId},i.createElement("stop",{offset:"0%",stopColor:"#CFCFCF"}),i.createElement("stop",{offset:"10%",stopColor:"white"}),i.createElement("stop",{offset:"90%",stopColor:"white"}),i.createElement("stop",{offset:"100%",stopColor:"#CFCFCF"}))),i.createElement("rect",{ref:"scrollArea",x:r,y:n,width:o,height:p,fill:"url(#"+this.consts.gradientId+")",className:"rf-scroll-area"}),i.createElement("rect",{ref:"scrollBar",x:s,y:u,width:a,height:l,rx:a/2,ry:a/2,fill:"#989898",className:"rf-scroll-bar"}))}});t.exports=s},function(t,e,r){"use strict";var i=r(1),o=r(17),s=r(4),a=i.createClass({displayName:"Slider",getInitialState:function(){var t=this.props.x;return{x:t}},consts:{borderRadius:4},propTypes:{handleSize:i.PropTypes.number,height:i.PropTypes.number,onDrag:i.PropTypes.func,onRelease:i.PropTypes.func,onScroll:i.PropTypes.func,valueOffset:i.PropTypes.number},componentDidMount:function(){var t=this;s(o.findDOMNode(t)).draggable({snap:{targets:this.props.snapGrid,range:1/0}}).origin("parent").on("dragmove",function(e){var r=Math.floor(e.pageX),i=t.props.valueLookup.byLocation[r]+t.props.valueOffset;t.setState({x:r}),t.props.onDrag(i)}).on("dragend",function(e){var r=Math.floor(e.pageX),i=t.props.valueLookup.byLocation[r]+t.props.valueOffset;t.props.onRelease(i)})},componentWillReceiveProps:function(t){this.props.x!==t.x&&this.setState({x:t.x})},componentDidUpdate:function(){var t=this;s(o.findDOMNode(t)).draggable({snap:{targets:t.props.snapGrid,range:1/0}})},restrictToGrid:function(t,e){var r=t-e/2,i=r+e,o=this.props.startX,s=this.props.endX,a=o+e/2,n=s-e/2,p=Math.max(a-r,0)/2,l=Math.max(i-n,0)/2;return r+p-l},makeLabel:function(t,e){if(this.props.valueLookup.isEndPoint[t])return null;var r=-12,o=16,s=10,a=48,n=25,p=this.restrictToGrid(t,a),l=e-n-s+r,h=p+a/2,c=l+.65*n,u=t,d=Math.max(t-o/2,p),f=Math.min(t+o/2,p+a),g=l+n,m=g+s,v=g-this.consts.borderRadius,y=f+","+v+" "+f+","+g+" "+u+","+m+" "+d+","+g+" "+d+","+v,b=this.props.valueLookup.byLocation[t]+this.props.valueOffset;return i.createElement("g",{className:"rf-value-indicator"},i.createElement("polyline",{fill:"white",points:y,className:"rf-value-indicator-balloon"}),i.createElement("rect",{x:p,y:l,rx:this.consts.borderRadius,ry:this.consts.borderRadius,width:a,height:n,fill:"white",className:"rf-value-indicator-balloon"}),i.createElement("text",{x:h,y:c,textAnchor:"middle",fontSize:this.props.fontSize,fill:"red",className:"rf-label rf-value-indicator-label"},b))},onTouchStart:function(t){var e=t.targetTouches[0];this.touchY=e.pageY},onTouchMove:function(t){var e=t.targetTouches[0];this.props.onScroll(this.touchY-e.pageY),this.touchY=e.pageY,t.preventDefault(),t.returnValue=!1},onWheel:function(t){this.props.onScroll(t.deltaY),t.preventDefault(),t.returnValue=!1},render:function(){var t=this.state.x,e=this.props.y,r=this.props.height,o=this.props.handleSize,s=e,a=this.props.ghostSize,n=this.restrictToGrid(t,2*a)+a,p=0,l=this.makeLabel(t,s);return i.createElement("g",{className:"rf-slider' draggable='true",onWheel:this.onWheel,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove},i.createElement("line",{x1:t,y1:e,x2:t,y2:e+r,strokeWidth:"2",stroke:"black",className:"rf-slider-bar"}),i.createElement("circle",{cx:t,cy:s,r:o,strokeWidth:"2",stroke:"#376893",fill:"white",ref:"topSlider",className:"rf-slider-handle"}),i.createElement("circle",{cx:t,cy:s+r,r:o,strokeWidth:"2",stroke:"#376893",fill:"white",className:"rf-slider-handle"}),l,i.createElement("circle",{cx:n,cy:s,r:a,opacity:p}),i.createElement("circle",{cx:n,cy:s+r,r:a,opacity:p}),i.createElement("rect",{x:n-a,y:s,width:2*a,height:r,opacity:p}))}});t.exports=a},function(t,e){"use strict";var r={calcFullComponentHeight:function(t){return t.height},calcFullComponentWidth:function(t){return t.width},calcComponentHeight:function(t){return this.calcFullComponentHeight(t)-this.consts.marginTop-this.consts.marginBottom},calcComponentWidth:function(t){var e=this.calcFullComponentWidth(t)-this.consts.marginLeft-this.consts.marginRight;return Math.max(e,0)},calcCoverageWidth:function(t,e){var r=this.calcComponentWidth(t,e)-this.calcScrollBarWidth(t,e)-this.props.labelColumnWidth;return Math.max(r,0)},calcCoverageHeight:function(t,e){return Math.min(this.calcAllocatedHeight(t,e),this.calcFullCoverageHeight(t,e))},calcFullCoverageHeight:function(t,e){return(this.calcCoverageBarCount(t,e)+this.calcCoverageGroupingCount())*(t.coverageBarHeight+this.consts.coverageBarMargin)},calcSliderY:function(t,e){return this.calcBarBottom(t,e)+this.consts.coverageGap/2},calcSliderHeight:function(t,e){var r=this.calcCoverageHeight(t,e);return 0===r?0:r+this.consts.coverageGap/2},calcCoverageBarSpacing:function(t){return t.coverageBarHeight+this.consts.coverageBarMargin},calcStepCount:function(t,e){return(e.max-e.min)/t.stepSize+1},calcBarBottom:function(t){return this.consts.marginTop+t.headerBarHeight},calcAllocatedHeight:function(t){var e=t.height-this.consts.marginTop-t.headerBarHeight-this.consts.coverageBarMargin/2-this.consts.marginBottom;return Math.max(e,0)},calcNeedsScrollBar:function(t,e){return this.calcFullCoverageHeight(t,e)>this.calcAllocatedHeight(t,e)},calcScrollBarWidth:function(t,e){return this.calcNeedsScrollBar(t,e)?this.consts.scrollWidth:0},calcNeedsCoverage:function(){return this.dataMapping&&this.dataMapping.length>0},calcNeedsGrouping:function(){return this.dataGrouping&&this.dataGrouping.length>0},calcCoverageBarCount:function(){return this.dataMapping?this.dataMapping.length:0},calcCoverageGroupingCount:function(){return this.dataGrouping?this.dataGrouping.length:0},makeSnapGrid:function(t,e){for(var r=e.min,i=this.calcStepCount(t,e),o=this.calcCoverageWidth(t,e),s=o/i,a=[],n=0;i>=n;n++){var p=Math.floor(t.labelColumnWidth+n*s),l=r+n*t.stepSize;a.push({x:p,value:l,isEndPoint:0===n||n===i})}return a},makeValueLookup:function(t,e){var r=this.makeSnapGrid(t,e),i={};i.byValue={},i.byLocation={},i.isEndPoint={};for(var o in r){var s=r[o].x,a=r[o].value;i.byValue[a]=s,i.byLocation[s]=a,i.isEndPoint[s]=r[o].isEndPoint}return i},updateCalculations:function(t,e){this.fullComponentHeight=this.calcFullComponentHeight(t,e),this.fullComponentWidth=this.calcFullComponentWidth(t,e),this.componentHeight=this.calcComponentHeight(t,e),this.componentWidth=this.calcComponentWidth(t,e),this.coverageWidth=this.calcCoverageWidth(t,e),this.coverageHeight=this.calcCoverageHeight(t,e),this.fullCoverageHeight=this.calcFullCoverageHeight(t,e),this.sliderY=this.calcSliderY(t,e),this.sliderHeight=this.calcSliderHeight(t,e),this.coverageBarSpacing=this.calcCoverageBarSpacing(t,e),this.stepCount=this.calcStepCount(t,e),this.barBottom=this.calcBarBottom(t,e),this.needsScrollBar=this.calcNeedsScrollBar(t,e),this.needsCoverage=this.calcNeedsCoverage(t,e),this.needsGrouping=this.calcNeedsGrouping(t,e),this.snapGrid=this.makeSnapGrid(t,e),this.valueLookup=this.makeValueLookup(t,e)},componentWillUpdate:function(t,e){this.updateCalculations(t,e)},componentWillMount:function(){this.updateCalculations(this.props,this.state)}};t.exports=r},function(t,e,r){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},o=r(1),s=r(8),a=r(5),n=r(18),p={makeTicks:function(t){var e=this.barY+this.props.headerBarHeight,r=e-this.consts.tickSize,i=[];for(var s in t){var a=t[s].x;i.push(o.createElement("line",{key:"tick"+s,x1:a,y1:e,x2:a,y2:r,strokeWidth:"1",stroke:"#A8A8A8"}))}return i},calculateDensityColor:function(t){var e=100*t,r=n(this.props.densityLowColor),i=n(this.props.densityHighColor);if(null===this.props.densityMidColor)return n.mix(r,i,e).toRgbString();switch(e*=2){case 0:return n(this.props.densityLowColor).toRgbString();case 100:return n(this.props.densityMidColor).toRgbString();case 200:return n(this.props.densityHighColor).toRgbString()}return e>100?(e-=100,r=n(this.props.densityMidColor),i=n(this.props.densityHighColor)):(r=n(this.props.densityLowColor),i=n(this.props.densityMidColor)),n.mix(r,i,e).toRgbString()},makeGradient:function(){var t=this.state.max-this.state.min,e=0;if(0===t)return null;var r=1/t,i=[];return this.dataDensity.forEach(function(s,a){var n=this.calculateDensityColor(s),p=e/t,l=p-r,h=p+r,c=100*Math.max((p+l)/2,0)+"%",u=100*Math.min((h+p)/2,1)+"%";i.push(o.createElement("stop",{key:a+"l",offset:c,stopColor:n})),i.push(o.createElement("stop",{key:a+"h",offset:u,stopColor:n})),e++},this),o.createElement("defs",null,o.createElement("linearGradient",{id:this.consts.gradientId},i))},scrollUpdaterFunc:function(){},handleSliderScroll:function(t){this.scrollUpdaterFunc(t)},makeSliders:function(t){var e=this.valueLookup,r=e.byValue[this.state.start],i=e.byValue[this.state.end+this.props.stepSize],a=[],n=[];for(var p in t){var l=t[p],h=l.x;i>h&&a.push(l),h>r&&n.push(l)}var c=this.coverageWidth/this.stepCount,u=this.consts.ghostSize,d=t[0].x-u,f=t[t.length-1].x+c,g=[];return g.push(o.createElement(s,{key:"leftSlider",x:r,y:this.sliderY,height:this.sliderHeight,handleSize:this.consts.sliderRadius,fontSize:this.consts.textSize,snapGrid:a,valueLookup:e,startX:d,endX:i,onScroll:this.handleSliderScroll,ghostSize:u,valueOffset:0,onDrag:this.onDragRangeStart,onRelease:this.onReleaseRangeStart})),g.push(o.createElement(s,{key:"rightSlider",x:i,y:this.sliderY,height:this.sliderHeight,handleSize:this.consts.sliderRadius,fontSize:this.consts.textSize,snapGrid:n,valueLookup:e,startX:r,endX:f,onScroll:this.handleSliderScroll,ghostSize:u,valueOffset:-this.props.stepSize,onDrag:this.onDragRangeEnd,onRelease:this.onReleaseRangeEnd})),g},onDragRangeStart:function(t){this.setState({start:t}),this.props.onDragRangeStart(t),this.props.onDrag(t,this.state.end)},onDragRangeEnd:function(t){this.setState({end:t}),this.props.onDragRangeEnd(t),this.props.onDrag(this.state.start,t)},onReleaseRangeStart:function(t){this.setState({start:t}),this.props.onReleaseRangeStart(t),this.props.onRelease(t,this.state.end)},onReleaseRangeEnd:function(t){this.setState({end:t}),this.props.onReleaseRangeEnd(t),this.props.onRelease(this.state.start,t)},makeCoverage:function(){if(!this.needsCoverage)return[];var t=this.barX,e=0,r=this.makeColors(),i=null,s=0,n=[];return this.dataMapping.forEach(function(p,l){var h=p.dataNames[p.dataNames.length-1]+"";if(p.dataNames.length>1){var c=p.dataNames[p.dataNames.length-2];i!==c&&(i=c,s+=this.coverageBarSpacing)}var u=e+l*this.coverageBarSpacing+s,d=this.props.rowLabelProperties.length-1,f=this.props.rowLabelProperties[d];n.push(o.createElement(a,{key:"coverage"+l,x:t,y:u,width:this.coverageWidth,height:this.coverageBarSpacing,barHeight:this.props.coverageBarHeight,color:r[l],min:this.state.min,max:this.state.max,coverage:p.coverage,stepSize:this.props.stepSize,textMargin:this.consts.textMargin,coverageLabel:this.props.coverageLabel,coverageLabelProps:this.props.coverageLabelProps,label:h,labelWidth:this.props.labelColumnWidth,dataProperty:f,charLimit:this.consts.labelCharacterLimit}));var g=u;n.push(o.createElement("line",{key:"line"+l,x1:0,y1:g,x2:t,y2:g,stroke:"#D7D7D7"}))},this),n},makeColors:function(){var t=["black","gray"];if(!this.needsCoverage)return t;this.props.schema&&this.props.colors&&(t=this.props.colors);var e=this.dataMapping;return"string"==typeof t?e.map(function(){return t}):e.map(this.findColor)},findColor:function(t){for(var e=t.colorIndeces,r=this.props.colors||["black","gray"],i=e.length-1,o=0;o<e.length;o++){var s=e[o],a=r[s%r.length];if(i>o&&"string"==typeof a)return r[e[i]%r.length];r=a}for(;"string"!=typeof r;)r=r[0];return r},truncateText:function(t,e){return!t||t.length<=e+3?t:t.substring(0,e)+"..."},makeCoverageGrouping:function(){if(!this.needsGrouping)return[];var t=Math.max(this.props.rowLabelProperties.length-2,0),e=this.props.rowLabelProperties[t];return this.dataGrouping.map(function(t,r){var s=(t.startIndex+r)*this.coverageBarSpacing,a=s+this.consts.coverageBarMargin/2+this.props.coverageBarHeight/2,n=this.consts.textMargin,p=5,l=0===r?null:o.createElement("line",{x1:0,y1:s,x2:this.props.width,y2:s,strokeWidth:"2",className:"rf-category-divider",stroke:"#B0B0B0"}),h=this.props.coverageLabel;return o.createElement("g",{key:"separator"+r},o.createElement("rect",{x:this.consts.marginLeft,y:s,width:this.props.width,height:this.coverageBarSpacing,className:"rf-category-background",fill:"#E2E2E2"}),l,o.createElement(h,i({x:this.consts.marginLeft,y:s,width:this.props.width,height:this.coverageBarSpacing,labelText:t.categoryName,dataProperty:e,labelX:n,labelY:a+p,charLimit:this.consts.labelCharacterLimit,className:"rf-label rf-label-bold rf-category-label"},this.props.coverageLabelProps)))},this)},makeGapFillers:function(){var t=0,e=this.valueLookup.byValue[this.state.start],r=this.valueLookup.byValue[this.state.end+this.props.stepSize],i=this.barX+this.coverageWidth-r;this.needsScrollBar&&(i+=this.consts.scrollWidth);var s=this.barBottom,a=this.consts.coverageGap,n=[];return n.push(o.createElement("rect",{key:"unselectedStart",x:t,y:s,width:e,height:a,fill:"#B0B0B0",className:"rf-gap-filler"})),n.push(o.createElement("rect",{key:"unselectedEnd",x:r,y:s,width:i,height:a,fill:"#B0B0B0",className:"rf-gap-filler"})),n},makeUnselectedOverlay:function(){var t=this.barX,e=this.valueLookup.byValue[this.state.end+this.props.stepSize],r=this.barBottom,i=this.valueLookup.byValue[this.state.start]-this.barX,s=this.barX+this.coverageWidth-e,a=Math.floor(this.consts.coverageBarMargin/2)+this.coverageHeight,n=[];return n.push(o.createElement("rect",{key:"unselectedStart",x:t,y:r,width:i,height:a,fill:"black",opacity:"0.5",stroke:"black",strokeWidth:"1",className:"rf-unselected"})),n.push(o.createElement("rect",{key:"unselectedEnd",x:e,y:r,width:s,height:a,fill:"black",opacity:"0.5",stroke:"black",strokeWidth:"1",className:"rf-unselected"})),n}};t.exports=p},function(t,e){"use strict";var r={componentWillMount:function(){this.setupSeries(this.props,this.state)},componentWillReceiveProps:function(t){this.props!==t&&this.setupSeries(t,this.state)},setupSeries:function(t,e){null!=t.data&&(this.setValueRange(t,e),this.setGroupedSeries(t),this.setYearValues(t))},setGroupedSeries:function(t){var e=t.data;if(0!==e.length){this.dataMapping=[],this.dataGrouping=[],e=e.slice();var r=t.rowLabelProperties,i=t.valueProperty;"string"==typeof r&&(r=[r]);var o=r.slice();o.push(i),e.sort(this.getSortFunction(o));var s=this.mapSeries(t,e);this.dataMapping=s;var a=[];if(1!==r.length){for(var n=0,p=s[0].dataNames,l=p[p.length-2],h=1;h<s.length;h++){p=s[h].dataNames;var c=p[p.length-2];c!==l&&(a.push({categoryName:l,startIndex:n,count:h-n}),l=c,n=h)}a.push({categoryName:l,startIndex:n,count:s.length-n}),this.dataGrouping=a}}},mapSeries:function(t,e){var r=t.rowLabelProperties,i=t.valueProperty,o=t.metadataProperty;"string"==typeof r&&(r=[r]);var s=[],a=[],n=null,p=null,l=null,h=[];r.forEach(function(){h.push(0)}),e.forEach(function(e){var c=e[i];if(null===n)return n=e,p=c,void(l=c);var u=this.getMismatchedIndex(t,e,n);if(-1!==u){null!==p&&null!==l&&a.push({start:p,end:l});var d=[];r.forEach(function(t){d.push(n[t])});var f={dataNames:d,coverage:a,colorIndeces:h};o&&(f.metadata=n[o]),s.push(f),h=h.slice(),h[u]+=1;for(var g=u+1;g<h.length;g++)h[g]=0;a=[],n=e,p=c}else c>l+t.stepSize&&(a.push({start:p,end:l}),p=c);l=c},this),null!==p&&null!==l&&a.push({start:p,end:l});var c=[];return r.forEach(function(t){c.push(n[t])}),s.push({dataNames:c,coverage:a,colorIndeces:h}),s},getMismatchedIndex:function(t,e,r){var i=t.rowLabelProperties;"string"==typeof i&&(i=[i]);for(var o=0;o<i.length;o++){var s=i[o];if(e[s]!==r[s])return o}return-1},getSortFunction:function(t){
return function(e,r){for(var i in t){var o=t[i];if(e[o]>r[o])return 1;if(e[o]<r[o])return-1}return 0}},setYearValues:function(t){var e=t.data,r=this.dataMapping.length,i=t.valueProperty,o=[];e.forEach(function(t){var e=t[i];null!==e&&(o[e]||(o[e]=0),o[e]+=1)},this),o.forEach(function(t,e,i){i[e]=t/r}),this.dataDensity=o},getValueRange:function(t){var e=t.data;if(0===e.length)return{min:t.min,max:t.max};var r=t.min||null,i=t.max||null,o=t.valueProperty;return e.forEach(function(t){null!==t[o]&&((null===r||t[o]<r)&&(r=t[o]),(null===i||t[o]>i)&&(i=t[o]))}),{min:r,max:i}},isEqualData:function(t,e){return t===e?!0:t.length!==e.length?!1:(e.forEach(function(e,r){for(var i in e)if(t[r][i]!==e[i])return!1}),!0)},boundValue:function(t,e,r){return Math.max(Math.min(t,r),e)},setValueRange:function(t,e){var r=t.data,i=this.props.data;if(!this.isEqualData(r,i)){var o=this.getValueRange(t);o.start=this.boundValue(e.start,o.min,o.max),o.end=this.boundValue(e.end,o.min,o.max),this.setState(o)}}};t.exports=r},function(t,e,r){e=t.exports=r(2)(),e.push([t.id,'.opentip-container,.opentip-container *{box-sizing:border-box}.opentip-container{position:absolute;max-width:300px;z-index:100;-webkit-transition:-webkit-transform 1s ease-in-out;transition:transform 1s ease-in-out;pointer-events:none;-webkit-transform:translateX(0) translateY(0);transform:translateX(0) translateY(0)}.opentip-container.ot-fixed.ot-going-to-show.stem-top.stem-center,.opentip-container.ot-fixed.ot-hidden.stem-top.stem-center,.opentip-container.ot-fixed.ot-hiding.stem-top.stem-center{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-top.stem-right,.opentip-container.ot-fixed.ot-hidden.stem-top.stem-right,.opentip-container.ot-fixed.ot-hiding.stem-top.stem-right{-webkit-transform:translateY(-5px) translateX(5px);transform:translateY(-5px) translateX(5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-middle.stem-right,.opentip-container.ot-fixed.ot-hidden.stem-middle.stem-right,.opentip-container.ot-fixed.ot-hiding.stem-middle.stem-right{-webkit-transform:translateX(5px);transform:translateX(5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-bottom.stem-right,.opentip-container.ot-fixed.ot-hidden.stem-bottom.stem-right,.opentip-container.ot-fixed.ot-hiding.stem-bottom.stem-right{-webkit-transform:translateY(5px) translateX(5px);transform:translateY(5px) translateX(5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-bottom.stem-center,.opentip-container.ot-fixed.ot-hidden.stem-bottom.stem-center,.opentip-container.ot-fixed.ot-hiding.stem-bottom.stem-center{-webkit-transform:translateY(5px);transform:translateY(5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-bottom.stem-left,.opentip-container.ot-fixed.ot-hidden.stem-bottom.stem-left,.opentip-container.ot-fixed.ot-hiding.stem-bottom.stem-left{-webkit-transform:translateY(5px) translateX(-5px);transform:translateY(5px) translateX(-5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-middle.stem-left,.opentip-container.ot-fixed.ot-hidden.stem-middle.stem-left,.opentip-container.ot-fixed.ot-hiding.stem-middle.stem-left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.opentip-container.ot-fixed.ot-going-to-show.stem-top.stem-left,.opentip-container.ot-fixed.ot-hidden.stem-top.stem-left,.opentip-container.ot-fixed.ot-hiding.stem-top.stem-left{-webkit-transform:translateY(-5px) translateX(-5px);transform:translateY(-5px) translateX(-5px)}.opentip-container.ot-fixed .opentip{pointer-events:auto}.opentip-container.ot-hidden{display:none}.opentip-container .opentip{position:relative;font-size:13px;line-height:120%;padding:9px 14px;color:#4f4b47;text-shadow:-1px -1px 0 hsla(0,0%,100%,.2)}.opentip-container .opentip .header{margin:0;padding:0}.opentip-container .opentip .ot-close{pointer-events:auto;display:block;position:absolute;top:-12px;left:60px;color:rgba(0,0,0,.5);background:transparent;text-decoration:none}.opentip-container .opentip .ot-close span,.opentip-container .opentip .ot-loading-indicator{display:none}.opentip-container.ot-loading .ot-loading-indicator{width:30px;height:30px;font-size:30px;line-height:30px;font-weight:700;display:block}.opentip-container.ot-loading .ot-loading-indicator span{display:block;-webkit-animation:otloading 2s linear infinite;animation:otloading 2s linear infinite;text-align:center}.opentip-container.style-alert .opentip,.opentip-container.style-dark .opentip{color:#f8f8f8;text-shadow:1px 1px 0 rgba(0,0,0,.2)}.opentip-container.style-glass .opentip{padding:15px 25px;color:#317cc5;text-shadow:1px 1px 8px rgba(0,94,153,.3)}.opentip-container.ot-hide-effect-fade{-webkit-transition:-webkit-transform .5s ease-in-out,opacity 1s ease-in-out;transition:transform .5s ease-in-out,opacity 1s ease-in-out;opacity:1;-ms-filter:none;filter:none}.opentip-container.ot-hide-effect-fade.ot-hiding{opacity:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"}.opentip-container.ot-show-effect-appear.ot-going-to-show,.opentip-container.ot-show-effect-appear.ot-showing{-webkit-transition:-webkit-transform .5s ease-in-out,opacity 1s ease-in-out;transition:transform .5s ease-in-out,opacity 1s ease-in-out}.opentip-container.ot-show-effect-appear.ot-going-to-show{opacity:0;filter:alpha(opacity=0);-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"}.opentip-container.ot-show-effect-appear.ot-showing,.opentip-container.ot-show-effect-appear.ot-visible{opacity:1;-ms-filter:none;filter:none}@-webkit-keyframes otloading{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes otloading{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}',""])},function(t,e,r){e=t.exports=r(2)(),e.push([t.id,".rf-unselected{pointer-events:none}.rf-label{font-family:Helvetica}.rf-label-bold{font-family:Helvetica-bold}.rf-title-label{fill:#273441;font-size:18px}.rf-density-label{fill:#366894;font-size:15px}.rf-value-label{fill:#8c8d8c;font-size:13px}.rf-category-label{fill:#366894;font-size:14px}.rf-coverage-label{fill:#273441;font-size:13px}.rf-footnotes{fill:#273441;font-size:12px}.rf-value-indicator-label{fill:red;font-size:13px}.opentip-container.style-rf-tooltip .opentip{font-size:13px;color:#fff}",""])},function(t,e,r){var i=r(12);"string"==typeof i&&(i=[[t.id,i,""]]);r(3)(i,{});i.locals&&(t.exports=i.locals)},function(t,e,r){var i=r(13);"string"==typeof i&&(i=[[t.id,i,""]]);r(3)(i,{});i.locals&&(t.exports=i.locals)},function(t,e){t.exports=r},function(t,e){t.exports=i},function(t,e){t.exports=o}])});